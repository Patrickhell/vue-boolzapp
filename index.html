<!DOCTYPE html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" 
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

    <title>VUE-BOOLZAPP</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <script src="https://unpkg.com/vue@3"></script>
   
    <div id="app">
        <main >
            <div class="main-box container d-flex">
                <div class="lateralSide flex-column ">
                    <div class="upper d-flex justify-content-between ">
                        <div class="px-1 d-flex align-items-center mx-3">
                            <img src="img/avatar_io.jpg" alt="avatar's sofia" style="width: 45px; height: 45px; border-radius: 50%;">
                            <h4 class="my_font mx-1">
                                sofia
                            </h4>
                        </div>
        
                        <div class="icons d-flex px-1 pt-3">
                            <ul class="d-flex align-items-center">
                                <li class="px-3">
                                    <i class="fa-solid fa-circle-notch" style="color: #b2b5b8;"></i>
                                </li>
                                <li class="my_marginRight">
                                    <i class="fa-solid fa-message" style="color: #b2b5b8;"></i>
                                </li>
                                <li class="my_marginRight">
                                    <i class="fa-solid fa-ellipsis-vertical " style="color: #b2b5b8;"></i>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="notifications d-flex align-items-center ">
                        <div class="circle d-flex  mx-3" >
                            <i class="fa-solid fa-bell-slash  m-auto " style="color: #8edafc;" ></i>
                        </div>
                        <div>
                            <div class="my_font">
                                Ricevi notifiche di nuovi messaggi 
                            </div>
                            <div class="my_fontAccess text-decoration" style="color: #6ab4e4;">
                                Attiva notifiche dekstop
                            </div>
                        </div>
                    </div>
                    <div class="my_searchBar d-flex align-items-center" >
                        <form class="my_form  mx-3" role="search">
                            <label class="lentLeftSide">
                                <i class="fa-solid fa-magnifying-glass" style="color: #b2b5b8;"></i>                                       
                            </label>
                            <input class="border-0" type="text" id="query" placeholder="Cerca o inizia una nuova chat" >
                       </form>
                    </div>
                    <div class="contacts"  v-for = "(contact, index) in contacts"
                         :class=" activeIndex === index ? 'active' : '' " @click ="activeContact()" >
                        <div class="d-flex  mx-3 text-start" @click ="showMessage(index)" >
                            <img :src= "contact.avatar" alt="" style="width: 45px; height: 45px; border-radius: 50%;" >
                             
                            <div class="userContact align-items-center">
                                <div class="my_fontContact pt-2" >
                                    {{ contact.name}}
                                </div>
                                <div class="my_fontVisible" v-show ="contact.visible">
                                    {{ lastMessage}}
                                </div>
                                
                            </div>
                            
                        </div>
                        
                    </div>
        
        
                </div>
                <div class="rightSide column">
                    <div class="upperRightSide d-flex justify-content-between">
                        <div class="profile d-flex text-start  py-2">
                            <div class="px-1">
                                <img src="img/avatar_1.jpg" alt="avatar's michele" style="width: 45px; height: 45px; border-radius: 50%;">
        
                            </div>
                            <div class="px-1 py-2">
                                <h4 class="my_font">
                                    Michele
                                </h4>
                                <p class="my_fontAccess ">
                                    Ultimo accesso oggi alle 12:00
                                </p>
                            </div>
                            
                        </div>
                        <div class="icons d-flex px-1 pt-3">
                            <ul class="d-flex align-items-center">
                                <li class="my_marginRight">
                                    <i class="fa-solid fa-magnifying-glass" style="color: #b2b5b8;"></i>                                       

                                </li>
                                <li class="my_marginRight" style="color: #b2b5b8;">
                                    <i class="fa-solid fa-paperclip"></i>
                                </li>
                                <li class="my_marginRight" style="color: #b2b5b8;">
                                    <i class="fa-solid fa-ellipsis-vertical "></i>
                                </li>
                            </ul>
                            
                        </div>
                       
                        
        
                    </div>
                    <div class=" messageBox">
                        <div class="showMessages">
                            <div class="showMessage float" v-for ="(infoMessage, index) in contacts[activeIndex].messages" >
                                <div class="my_font messageInterlocutor" :class ="(infoMessage.status === 'sent' ) ? 'messageSent' : 'messageReceived' ">
                                   
                                    <span class="p-3 ">
                                        {{infoMessage.message}}
                                    </span>
                                    <p class="fontDate">
                                        {{infoMessage.date}}
                                    </p>
                                </div>
                            </div>
                        </div>
                        
        
                    </div>
                    <div class="downRightSide d-flex align-items-center justify-content-evenly">
                        <div>
                            
                            <i class="fa-regular fa-face-smile" style="color: #b2b5b8;"></i>
                            
                        </div>
                        <input type="text" v-model ="inputMessage" @keyup.enter = "insertMessage"  placeholder="Scrivi un messaggio">

                        <div >
                           
                            <i class="fa-solid fa-microphone" style="color: #b2b5b8;"></i>
                            
                        </div>
        
                    </div>
        
                </div>
        
            </div>
        </main>
    </div>

    <script src="./js/vue.js">

    </script>
</body>
</html>